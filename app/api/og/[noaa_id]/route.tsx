import React from "react";
import { getPlatformData } from "../../../../services/noaa";
import { ImageResponse } from "next/og";


// TODO (Heath): dry out / clean up svgs
const Seabed = () => (
  <svg
    width="200px"
    xmlns="http://www.w3.org/2000/svg"
    xmlnsXlink="http://www.w3.org/1999/xlink"
    viewBox="0 0 1262.55 742.95"
  >
    <defs>
      <clipPath id="clippath">
        <rect fill="none" y="490.14" width="468.34" height="250.77"></rect>
      </clipPath>
    </defs>
    <g clipPath="url(#clippath)">
      <line fill="none" x1="549.77" y1="783.02" x2="706.03" y2="485.55"></line>
      <line fill="none" x1="-112.51" y1="706.23" x2="698.01" y2="705.73"></line>
      <path d="m-113.1,670.94l810.53-.53,1.16,70.65-810.53.53-1.16-70.65Z"></path>
      <line fill="none" x1="-65.18" y1="609.99" x2="745.34" y2="609.49"></line>
      <path d="m-65.47,592.34l810.51-.49.58,35.34-810.51.49-.58-35.34Z"></path>
      <line fill="none" x1="-112.18" y1="547.34" x2="698.33" y2="546.84"></line>
      <path d="m-112.33,538.51l810.51-.49.29,17.7-810.51.49-.29-17.7Z"></path>
      <line fill="none" x1="-80.02" y1="495.08" x2="730.49" y2="494.58"></line>
      <path d="m-80.1,490.69l810.51-.55.15,8.82-810.51.55-.15-8.82Z"></path>
    </g>
    <path d="m782.35,258.22c4.09,3.3,7.21,5.78,10.28,8.32,10.44,7.89,18.43,18.59,23.03,30.85,1.22,3.81,1.89,7.78,1.97,11.79.3,8.74-.36,17.53.21,26.24.64,12.41-3.02,24.65-10.38,34.67-5.68,8.46-12.83,15.83-21.11,21.77-7.93,5.72-17.46,8.79-27.24,8.78-32.44.2-64.86.08-97.3.06-1.64-.11-3.28-.32-4.9-.62-.21-3.04-.59-6-.59-8.97-.04-34.76-.04-69.53,0-104.3v-144.57c3.01-.3,5.27-.7,7.54-.7,30.03-.04,60.09-.06,90.15-.04,7.13.04,14.15,1.79,20.47,5.1,13.36,6.42,24.2,17.1,30.83,30.35,7.33,16.63,8.11,35.41,2.18,52.59-3.75,9.3-10.13,17.3-18.37,23-1.93,1.65-3.9,3.3-6.77,5.67m-95.44,65.21c0,14.18-.07,28.35,0,42.55.04,5.78.83,6.64,6.6,6.69,19.4.1,38.8.36,58.18-.07,18.58-.84,33.37-15.89,33.88-34.49.16-7.08-.36-14.21.14-21.26.44-10.78-3.5-21.27-10.93-29.09-5.74-8.03-14.9-12.92-24.76-13.21-18.46.08-36.91,0-55.36.04-7.11,0-7.68.64-7.7,7.73-.07,13.7,0,27.41,0,41.11m0-114c0,11.11-.08,22.22.04,33.32.06,5.41.83,6.28,6.22,6.31,17.04.12,34.1.5,51.11-.12,17.26-.49,31.73-13.17,34.49-30.21,1.7-8.62,1.42-17.51-.83-26-3.7-13.45-15.77-22.88-29.72-23.22-17.98-.16-35.96-.1-53.95,0-6.73,0-7.32.66-7.38,7.32-.08,10.87,0,21.75,0,32.62"></path>
    <path d="m1083.87,400.25c-1.49-5.87-1.87-248.78-.44-257.96,1.9-.39,3.83-.64,5.77-.76,32.71-.04,65.39-.23,98.06.08,13.44.54,26.15,6.29,35.44,16.02,20.96,19.87,34.54,46.28,38.52,74.88.84,5.84,1.26,11.74,1.25,17.64.17,14.67,0,29.33.07,44-.28,21.39-6.13,42.34-16.95,60.79-5.51,10.49-12.71,20.01-21.31,28.16-7.26,7.56-16.49,12.94-26.64,15.56-5.56,1.18-11.22,1.83-16.9,1.96-30.06.18-60.13.1-90.2.07-2.29,0-4.59-.3-6.67-.45m29.34-128.96v93.6c0,7.18.58,7.78,7.66,7.8,19.16.08,38.32.08,57.48,0,8.63.15,16.92-3.39,22.78-9.73,19.31-19.59,30.2-45.96,30.35-73.46.24-11.56-.06-23.16.06-34.75.23-27.49-9.99-54.04-28.59-74.29-5.92-7.29-14.91-11.39-24.3-11.09-16.78.38-33.6.1-50.35.1-3.07,0-6.15-.1-9.22.07-4.87.26-5.52,1.02-5.78,6.03-.12,1.89-.04,3.79-.04,5.67v90.06"></path>
    <path d="m879.9,399.44V142.93c5.95-1.83,140.16-2.04,147.59-.22.92,7.84,1,15.76.24,23.62-.06,1.06-2,2.52-3.3,2.86-2.1.34-4.24.43-6.36.26h-98.04c-9.97,0-10,.04-10,9.73v61.03c0,8.53.34,8.9,8.72,8.91,28.41.04,56.82.04,85.23,0q10.08,0,10.1,10.33c0,4.03,0,8.04-.1,12.07.23,2.24-1.4,4.23-3.64,4.46-.25.03-.5.03-.75,0-2.13.07-4.25.12-6.39.12h-81.72c-1.65,0-3.3-.04-4.95.04-5.69.3-6.46.94-6.48,6.83-.07,27.44-.07,54.88,0,82.32,0,6.67.64,7.34,7.36,7.36,17.76.1,35.49.04,53.27.04,16.57,0,33.16-.04,49.72,0,7.26,0,7.62.4,7.68,7.63.07,6.34,0,12.67,0,17.88-1.1,1.24-1.24,1.45-1.42,1.59-.17.16-.37.28-.59.35-.91.24-1.85.4-2.79.46-45.67.03-91.37.04-137.09.04-1.42,0-2.85-.12-4.25-.26-.73-.26-1.42-.59-2.08-1"></path>
    <path d="m407.12,400.73c2.81-9.83,5.09-17.96,7.49-26.08,12.42-41.95,24.85-83.9,37.29-125.84,10.02-33.78,20.03-67.56,30.05-101.35,1.6-5.42,2.18-5.89,8.02-5.94,11.36-.1,22.73-.1,34.1,0,5.97.04,6.24.2,7.98,5.91,4.33,14.26,8.49,28.57,12.73,42.84,10.82,36.51,21.65,73.01,32.48,109.51,9.35,31.51,18.71,63.01,28.06,94.51.48,2.08.84,4.19,1.1,6.31h-26.55c-2.9,0-4.01-2.11-4.73-4.51-1.91-6.35-3.79-12.7-5.73-18.98-4.95-16.05-9.86-32.12-14.86-48.12-2.24-7.11-2.62-7.35-10-7.36-25.34-.06-50.67-.06-76,0-7.62,0-7.96.26-10.33,7.92-6.68,21.46-13.28,42.92-19.81,64.38-2.04,6.67-1.97,6.74-8.66,6.82-7.02.06-14.03,0-22.64,0m99.1-238.26c-.94,1.96-1.78,3.98-2.52,6.03-11.47,39.75-22.91,79.51-34.31,119.27-.49,2.18-.84,4.38-1.06,6.6,25.25,2.37,50.67,2.46,75.94.26.22-5.78-33.92-125.47-38.09-132.14"></path>
    <path d="m372.31,141.49v27.33c-3.39.24-6.38.6-9.35.6-33.14.04-66.28.06-99.42.04q-9.91,0-9.91,9.81v59.61c0,1.18-.04,2.37,0,3.55.32,5.46,1.21,6.35,6.93,6.66,1.89.12,3.79.04,5.67.04h80.97c1.65,0,3.3-.04,4.95,0,5.87.22,6.36.68,6.5,6.67.1,4.49.1,8.98,0,13.47-.14,6.21-.62,6.6-7.11,6.8-1.65.04-3.3,0-4.95,0h-82.39c-10.38,0-10.6.26-10.6,10.85v75.94c0,1.65.06,3.3.07,4.95-.24,2.41,1.53,4.55,3.93,4.79.34.03.68.03,1.02-.02,2.13.04,4.27.07,6.39.07h107.28c.65,8.66.77,17.36.34,26.03-.78.76-.93.94-1.11,1.1-.17.16-.38.28-.6.34-1.86.27-3.73.45-5.6.52-45.93-.03-91.85-.08-137.78-.17-.97-.17-1.91-.45-2.81-.83-.2-2.97-.59-6.17-.59-9.38-.03-79.46-.03-158.93,0-238.4v-4.25c.21-5.46.62-6.02,6.2-6.12,8.52-.12,17.05-.04,25.59-.04h116.4Z"></path>
    <path d="m138.98,194.74c-2.91-4.49-5.31-8.25-7.8-11.97-1.97-2.94-3.91-5.93-6.12-8.68-3.71-5.05-9.69-7.93-15.96-7.68-13.73.26-27.47.21-41.21.06-10.77-.99-20.9,5.21-24.92,15.25-5.34,10.28-3.43,22.82,4.72,31.04,10.24,10.43,21.53,19.88,32.7,29.37,21.61,18.4,43.83,36.11,65.04,54.93,14.59,11.87,23.23,29.54,23.64,48.35.79,20.18-9.82,39.09-27.45,48.94-8.75,5.33-18.81,8.12-29.06,8.06-19.89-.12-39.79-.24-59.68.1-9.08.01-17.86-3.29-24.68-9.29-8.92-7.49-16.17-16.77-21.29-27.24-2.11-4.09-1.91-5.24,2.07-7.52,6.74-3.87,13.71-7.36,21.19-11.33,1.39,1.84,2.58,3.49,3.83,5.08,4.39,5.55,8.62,11.27,13.29,16.57,4.15,4.71,10.24,7.26,16.51,6.91,12.79-.16,25.59-.04,38.37-.06,1.65.05,3.31-.03,4.95-.24,11.23-.3,21.26-7.13,25.65-17.47,4.77-11.22,2.83-24.16-5.01-33.5-5.19-6.15-10.87-11.87-17-17.09-23.88-20.13-48.15-39.78-71.99-59.95-11.81-8.84-21.1-20.62-26.96-34.16-7.97-19.13-3.71-41.18,10.81-55.96,8.66-10.33,21.23-16.59,34.69-17.25,20.33-.82,40.71-1.07,61.02-1.07,9.14.08,17.82,4,23.94,10.79,7.41,7.98,13.98,16.71,19.6,26.03,2.48,3.95,2.23,5.33-1.59,7.52-6.74,3.85-13.69,7.43-21.31,11.49"></path>
    <path d="m1112.59,612.25v-43.29c-.01-19.98,5.34-39.6,15.5-56.8,3.82-6.24,8.43-11.97,13.71-17.04,7.58-7.39,17.76-11.5,28.35-11.45,13.21-.24,26.47.22,39.68.9,9.31.88,17.98,5.1,24.42,11.89,8.36,8.11,14.81,17.98,18.88,28.89,5.24,12.44,8.12,25.75,8.49,39.25.26,28.59,1.2,57.19.87,85.79.12,16.12-2.71,32.13-8.35,47.23-4.76,13.16-12.53,25.04-22.68,34.67-7.05,6.84-16.52,10.62-26.34,10.53-11.36-.12-22.74-.35-34.08.07-12.27.31-24.02-4.96-31.95-14.32-12.01-13.5-20.17-29.98-23.66-47.71-2.74-15.85-3.7-31.96-2.86-48.02-.08-6.86,0-13.71,0-20.57l.02-.02Zm119.49,0c0-13.49.44-26.99-.14-40.45-.42-9.43-1.6-18.82-3.52-28.06-1.65-9.63-5.84-18.64-12.13-26.12-3.46-4.31-8.74-6.76-14.26-6.6-9.94.2-19.88.2-29.82,0-5.82-.44-11.41,2.36-14.54,7.28-3.41,5.09-6.3,10.51-8.64,16.18-4.65,12.44-6.98,25.62-6.87,38.9-.16,25.59-.07,51.09-.06,76.65.08,11.36,1.58,22.67,4.45,33.66,2.08,9.04,5.97,17.57,11.43,25.07,3.29,4.76,8.74,7.55,14.53,7.43,9.91,0,19.89-.1,29.83.06,5.58.36,10.91-2.35,13.92-7.06,3.47-5.06,6.38-10.48,8.7-16.16,4.76-12.65,7.17-26.06,7.1-39.58v-41.16"></path>
    <path d="m716.15,611.78v-37.56c-.25-16.12,2.6-32.14,8.39-47.18,4.71-12.7,12.44-24.05,22.53-33.08,7.81-6.7,17.78-10.35,28.06-10.26,12.77-.2,25.51.4,38.28.83,8.82.69,17.09,4.52,23.32,10.8,9.68,9.12,17.01,20.45,21.35,33.02,5.61,15.11,8.38,31.12,8.16,47.23.12,24.58.2,49.18,0,73.78.2,16.1-2.46,32.12-7.87,47.29-4.66,13.47-12.53,25.6-22.92,35.35-7.16,7.07-16.84,10.98-26.89,10.88-12.05-.3-24.14-.12-36.2-.08-9.33-.07-18.27-3.77-24.92-10.31-17.48-16.37-28.08-38.77-29.65-62.67-2.01-19.22-1.6-38.69-2.25-58.04h.62m29.53.48c0,8.04.08,16.1,0,24.14-.42,15.13,1.01,30.26,4.25,45.05,1.78,9.58,5.65,18.64,11.33,26.55,3.65,5.4,9.83,8.52,16.34,8.25,8.76-.34,17.56-.44,26.27,0,8.05.71,15.67-3.75,18.98-11.12,3.39-6.48,6.24-13.23,8.5-20.19,3.74-13.46,5.51-27.39,5.25-41.35.5-20.81.42-41.64,0-62.45.06-12.78-1.39-25.53-4.33-37.97-2.13-9.01-6.06-17.49-11.56-24.94-3.31-4.73-8.8-7.45-14.57-7.21-9.95.17-19.91.18-29.83,0-6.29-.29-12.24,2.84-15.57,8.18-5.16,7.7-8.88,16.27-10.96,25.31-2.74,11.74-4.13,23.76-4.13,35.82-.16,10.64,0,21.29,0,31.93"></path>
    <path d="m915.79,523.31c.78-1.59,1.69-3.1,2.73-4.52,6.6-7.73,13.32-15.33,19.93-23.06,7.01-7.97,17.18-12.43,27.79-12.18,13.25-.38,26.52-.24,39.77-.04,9.1.31,17.8,3.79,24.6,9.84,7.16,5.87,13.16,13.03,17.71,21.09,2.8,4.97,4.24,10.6,4.18,16.3,0,8.06-.04,16.1,0,24.14.47,17.32-9.6,33.2-25.46,40.17-1.65.87-3.37,1.65-5.04,2.48-.14.08-.18.4-.48,1.14,1.21.42,2.39.93,3.62,1.25,18.89,4.95,37.23,27.35,36.23,46.77-.7,13.69-.22,27.44-.12,41.16-.03,7.36-1.97,14.58-5.62,20.97-5.32,10.88-13.13,20.36-22.79,27.67-5.48,4.2-12.2,6.47-19.11,6.45-16.81-.24-33.64-.35-50.44,0-9.55.45-18.92-2.78-26.16-9.02-10.15-8.97-19.07-19.24-26.52-30.54,7.34-6.42,15.19-11.56,23.16-17.77,3.41,4.13,6.64,8.06,9.91,12.01,1.35,1.65,2.65,3.3,3.99,4.95,6.16,8.99,16.82,13.78,27.63,12.43,8.96-.68,17.97-.69,26.93-.05,8.46.3,16.49-3.72,21.31-10.67,5.3-6.48,8.17-14.61,8.11-22.98,0-9.7.12-19.4-.04-29.1-.09-11.82-5.69-22.91-15.14-30-5.89-4.09-12.99-6.06-20.15-5.57-8.25-.22-16.58,0-24.86-.1-6-.08-6.49-.6-6.6-6.6-.06-6.31.12-12.63.2-19.59,3.51-.26,6.25-.5,9-.64,6.62-.02,13.24-.45,19.81-1.28,13.13-2.42,23.92-11.77,28.18-24.42.76-2.24,1.13-4.59,1.07-6.96.14-6.39.16-12.79.06-19.17-.72-10.87-7.22-20.51-17.02-25.26-2.37-1.09-4.98-1.56-7.58-1.36-7.56-.17-15.18.4-22.72-.18-8.2-.5-16.08,3.24-20.87,9.91-5.35,6.28-10.39,12.85-15.52,19.25-8.9-4.04-16.94-9.75-23.67-16.84"></path>
    <path d="m670.39,740.65c-3.71.21-6.03.46-8.34.46h-134.29c-5.93-.21-6.35-.56-6.46-6.66-.12-5.91.06-11.83-.06-17.74-.08-3.33,1.1-6.57,3.3-9.08,28.2-34.67,56.33-69.42,84.38-104.25,5.78-7.18,11.36-14.54,16.84-21.95,4.5-6.18,6.84-13.67,6.66-21.31,0-8.52.12-17.04-.04-25.59,0-12.72-10.17-23.1-22.89-23.34-11.83-.35-23.68-.06-35.49-.12-4.33-.1-8.49,1.71-11.36,4.95-5.27,5.78-10.4,11.63-15.5,17.52-1.84,2.13-3.47,4.45-5.35,6.88-4.45-1.7-8.52-4.26-11.99-7.54-3.9-2.66-7.54-5.67-12.01-9.08,2.42-3.3,4.52-6.6,7.1-9.52,5.95-6.7,12.01-13.31,18.28-19.73,7.52-7.38,17.72-11.38,28.25-11.07,13.49-.22,27-.35,40.49,0,28.37.1,51.29,23.17,51.19,51.54,0,.37,0,.74-.02,1.11.36,9.93.17,19.87-.55,29.77-2.01,14.9-8.38,28.87-18.3,40.16-24.28,29.65-48.76,59.12-73.16,88.66-3.01,3.65-6.12,7.22-9.08,10.91-1.31,1.6-2.38,3.41-3.53,5.09,2.48,3.19,5.49,2.32,8.16,2.34,14.68.08,29.37.04,44.05.04,17.29,0,34.58-.04,51.87,0,7.31,0,7.76.5,7.84,7.56.07,6.34,0,12.67,0,19.95"></path>
    <path d="m17.55,8.65H0V1.31h44.92v7.34h-17.55v39.41h-9.82V8.65Z"></path>
    <path d="m48.01,1.31h9.82v18.2h29.01V1.31h9.82v46.75h-9.82v-21.21h-29.01v21.21h-9.82V1.31Z"></path>
    <path d="m104.55,1.31h40.6v7.34h-30.77v11.79h29.53v7.33h-29.53v12.97h31.3v7.33h-41.12V1.31Z"></path>
    <path d="m172.75,1.31h11.26l27.83,35.11h.13V1.31h9.43v46.75h-11.06l-28.03-35.09h-.13v35.09h-9.43V1.31Z"></path>
    <path d="m229.28,1.31h9.82v46.75h-9.82V1.31Z"></path>
    <path d="m246.97,1.31h28.81c11.52,0,15.19,7.01,15.19,14.54,0,7.13-4.58,14.41-15.06,14.41h-19.12v17.8h-9.82V1.31Zm9.82,21.61h15.78c5.57,0,8.58-1.5,8.58-7.07s-3.99-7.2-7.86-7.2h-16.5v14.27Z"></path>
    <path d="m296.24,1.31h28.81c11.52,0,15.19,7.01,15.19,14.54,0,7.13-4.58,14.41-15.06,14.41h-19.12v17.8h-9.82V1.31Zm9.82,21.61h15.78c5.57,0,8.58-1.5,8.58-7.07s-3.99-7.2-7.86-7.2h-16.5v14.27Z"></path>
    <path d="m342.88,24.69c0-13.16,7.73-24.69,27.5-24.69s27.5,11.53,27.5,24.69-7.73,24.68-27.5,24.68-27.5-11.52-27.5-24.68Zm44.79,0c0-10.22-6.29-17.35-17.29-17.35s-17.29,7.13-17.29,17.35,6.29,17.35,17.29,17.35,17.29-7.15,17.29-17.35Z"></path>
    <path d="m403.15,1.31h11.26l27.83,35.11h.13V1.31h9.43v46.75h-11.06l-28.03-35.09h-.13v35.09h-9.43V1.31Z"></path>
    <path d="m481.04,1.31h38.89v7.34h-29.07v11.79h27.5v7.33h-27.5v20.3h-9.82V1.31Z"></path>
    <path d="m521.6,24.69c0-13.16,7.73-24.69,27.5-24.69s27.5,11.53,27.5,24.69-7.73,24.68-27.5,24.68-27.5-11.52-27.5-24.68Zm44.79,0c0-10.22-6.29-17.35-17.29-17.35s-17.29,7.13-17.29,17.35,6.29,17.35,17.29,17.35,17.29-7.15,17.29-17.35Z"></path>
    <path d="m581.48,1.31h9.82v26.39c0,6.48.2,14.35,13.03,14.35s13.1-7.93,13.1-14.35V1.31h9.82v26.65c0,7.74-.26,21.42-22.92,21.42s-22.85-13.61-22.85-21.42V1.31Z"></path>
    <path d="m634.74,1.31h11.26l27.83,35.11h.13V1.31h9.43v46.75h-11.06l-28.03-35.09h-.13v35.09h-9.43V1.31Z"></path>
    <path d="m691.27,1.31h25.21c18.33,0,22.85,10.48,22.85,23.83,0,10.03-4.59,22.92-20.5,22.92h-27.57V1.31Zm9.82,39.43h13.81c7.07,0,14.6-2.3,14.6-15.98,0-15.19-9.62-16.11-15.12-16.11h-13.29v32.08Z"></path>
    <path d="m760.84,1.31h11.66l20.82,46.75h-10.94l-4.91-11.58h-22l-4.85,11.58h-10.6l20.82-46.75Zm13.68,27.83l-7.99-19.7-8.12,19.7h16.11Z"></path>
    <path d="m804.99,8.65h-17.55V1.31h44.92v7.34h-17.55v39.41h-9.82V8.65Z"></path>
    <path d="m835.46,1.31h9.82v46.75h-9.82V1.31Z"></path>
    <path d="m850.53,24.69c0-13.16,7.73-24.69,27.5-24.69s27.5,11.53,27.5,24.69-7.73,24.68-27.5,24.68-27.5-11.52-27.5-24.68Zm44.79,0c0-10.22-6.29-17.35-17.29-17.35s-17.29,7.13-17.29,17.35,6.29,17.35,17.29,17.35,17.29-7.15,17.29-17.35Z"></path>
    <path d="m910.8,1.31h11.26l27.83,35.11h.13V1.31h9.43v46.75h-11.06l-28.03-35.09h-.13v35.09h-9.43V1.31Z"></path>
    <path d="m966.74,25.73h23.11v7.73h-23.11v-7.73Z"></path>
    <path d="m1046.97,48.06h-5.76l-1.38-6.08c-3.86,4.64-10.41,7.39-17.81,7.39-19.77,0-27.5-11.52-27.5-24.68s8.19-24.69,27.24-24.69c14.14,0,23.31,7.21,24.36,16.38h-10.61c-1.77-6.35-7.66-9.04-14.01-9.04-12.12,0-16.76,7.41-16.76,17.67,0,12.38,7.99,17.03,16.24,17.03,10.02,0,14.6-4.65,16.17-12.32h-13.23v-7.34h23.05v25.67Z"></path>
    <path d="m1054.86,1.31h40.6v7.34h-30.77v11.79h29.53v7.33h-29.53v12.97h31.3v7.33h-41.12V1.31Z"></path>
    <path d="m1101.69,1.31h30.9c10.67,0,13.42,5.69,13.42,11.66,0,6.69-3.93,8.51-6.35,9.76,3.6,1.04,8.51,3.79,8.51,11.6,0,5.23-3.34,13.74-15.91,13.74h-30.58V1.31Zm9.82,18.99h18.33c2.75,0,6.35-.72,6.35-5.95,0-3.93-2.29-5.69-8.05-5.69h-16.63v11.64Zm0,20.44h17.61c4.45,0,8.84-.85,8.84-6.88,0-4.38-2.95-6.62-7.4-6.62h-19.05v13.5Z"></path>
    <path d="m1193,18.6c-1.05-7.01-6.74-11.26-15.06-11.26-9.1,0-15.78,6.03-15.78,18.2,0,9.76,6.74,16.51,16.43,16.51,10.21,0,13.56-6.88,14.4-11.85h10.61c-1.38,9.23-7.53,19.18-26.71,19.18-16.96,0-24.95-11.52-24.95-24.68s7.79-24.69,26.13-24.69c16.11,0,24.49,8.46,25.53,18.6h-10.61Z"></path>
    <path d="m1207.24,24.69c0-13.16,7.73-24.69,27.5-24.69s27.5,11.53,27.5,24.69-7.73,24.68-27.5,24.68-27.5-11.52-27.5-24.68Zm44.79,0c0-10.22-6.29-17.35-17.29-17.35s-17.29,7.13-17.29,17.35,6.29,17.35,17.29,17.35,17.29-7.15,17.29-17.35Z"></path>
  </svg>
);

const FSLogo = () => (
  <svg
    width="300"
    version="1.1"
    viewBox="0 0 440.07 70.063"
    xmlns="http://www.w3.org/2000/svg"
  >
    <g transform="translate(81.697 -107.09)">
      <g transform="matrix(.035278 0 0 -.035278 -101.82 187.24)">
        <path
          d="m570.48 297.98s39.325 103.08 109.16 138.01h12365s-18.3-103.71-98.1-149.96l-12376 11.949"
          fill="#525355"
        />
        <g fill="#244e9f">
          <path d="m1632.5 1892.6v347.5h-731.31c-130.29 0-235.9-105.6-235.9-235.9v-1396.6h425.3v672.2h507.61v333.81h-507.61v278.99h541.91" />
          <path d="m2096.6 1213.5 116.6 692.79h4.59l116.6-692.79zm386.39 1026.6h-535l-384.79-1606.6c259.89 108.89 422.6 357.39 650.59 384.39 275.1 32.4 315.1-119.1 315.1-119.1-57.29 64.899-196.1-15.293-70.4-143.11 74.81-76.09 273.4-121.39 421.7-145.79l-397.2 1630.2" />
          <path d="m3596.4 1603.3c-28.89-35.8-73.89-53.7-134.89-53.7h-84.51v384.1h82.3c64.01 0 110.1-14.5 138.3-43.4 28.21-29 42.31-77.8 42.31-146.4 0-57.9-14.5-104.8-43.51-140.6zm496.2-948.8c-6.09 8.399-12.19 17.102-18.3 26.301-4.6 9.098-8.4 22.098-11.5 38.899-3 16.699-5.29 35.398-6.8 55.992-1.5 20.508-2.3 42.308-2.3 65.109v205.8c0 109.7-19.09 195.8-57.09 258.4-38.21 62.4-108.3 98.3-210.41 107.4v4.6c97.5 15.2 168.41 56.4 212.6 123.5 44.2 67 66.3 155.4 66.3 265.2 0 62.5-7.99 120.41-24 173.71-16 53.39-41.9 99.49-77.7 138.39-35.8 38.8-82.3 68.9-139.5 90.29-57.1 21.32-126.1 32.01-206.9 32.01h-429.4c-130.3 0-235.9-105.6-235.9-235.9v-1396.6h425.3v653.89h112.01c25.9 0 47.6-3.39 65.1-10.29 17.5-6.8 31.99-19 43.49-36.5 11.41-17.6 19.4-41.6 24.01-72.1 4.49-30.5 6.79-68.61 6.79-114.3v-109.7c0-16.801 0.4-38.504 1.21-65.203 0.69-26.699 2.29-54.5 4.59-83.399 2.2-28.992 6-58 11.4-86.902 5.3-28.996 13.3-54.109 24.01-75.5h452.69v22.902c-13.7 7.598-23.7 15.602-29.7 24" />
          <path d="m5289.5 1319.8c-34.3 61.8-77.39 111.69-129.2 149.8-51.9 38.11-107.5 68.91-166.9 92.6-59.5 23.6-115.09 46.8-166.89 69.71-51.9 22.88-94.9 49.89-129.21 81.18-34.3 31.21-51.49 73.51-51.49 126.91 0 36.5 10.7 69.7 32.1 99.41 21.29 29.69 54.79 44.59 100.59 44.59 41.11 0 71.6-17.09 91.41-51.4 19.79-34.3 29.7-75.9 29.7-124.6v-38.9h397.9c0 175.31-41.61 302.9-124.71 383-83 80-217.5 120-403.5 120-179.9 0-314-43.49-402.4-130.3-88.4-86.9-132.6-213.4-132.6-379.6 0-96 16.41-173.7 49.2-233.21 32.7-59.39 73.91-107.39 123.4-143.99 49.5-36.6 103.3-66.3 161.2-89.2 57.9-22.8 111.7-45.4 161.2-67.4 49.5-22.1 90.71-48.8 123.5-80.1 32.7-31.2 49.1-73.5 49.1-126.81 0-44.29-11.8-81.591-35.39-112.09-23.71-30.5-57.61-45.699-101.81-45.699-41.1 0-74.69 14.101-100.59 42.308-25.9 28.192-38.81 77.293-38.81 147.5v38.79h-411.6v-57.09c0-85.409 12.2-157.02 36.6-215 24.4-57.91 59.8-104.81 106.31-140.61 46.49-35.801 103.69-60.902 171.49-75.402s145.91-21.7 234.31-21.7c187.5 0 330.8 39.2 429.89 117.71 99 78.489 148.6 204.59 148.6 378.39 0 99.11-17.2 179.5-51.4 241.2" />
          <path d="m6166.2 1150.6c-2.99-72.41-9.5-129.91-19.4-172.6-9.9-42.699-24.39-72.402-43.4-89.199-19.1-16.699-44.6-25.101-76.6-25.101s-57.6 8.402-76.6 25.101c-19.1 16.797-33.59 46.5-43.5 89.199-9.9 42.69-16.4 100.19-19.4 172.6-3.1 72.4-4.6 163.5-4.6 273.3 0 109.7 1.5 200.8 4.6 273.2 3 72.31 9.5 129.9 19.4 172.6 9.91 42.59 24.4 72.4 43.5 89.2 19 16.69 44.6 25.1 76.6 25.1s57.5-8.41 76.6-25.1c19.01-16.8 33.5-46.61 43.4-89.2 9.9-42.7 16.41-100.29 19.4-172.6 3.1-72.4 4.61-163.5 4.61-273.2 0-109.8-1.51-200.9-4.61-273.3zm413.9 663.1c-19.8 107.41-52.59 195.1-98.3 262.9-45.8 67.81-105.99 117.4-180.7 148.61-74.7 31.19-166.09 46.89-274.3 46.89-108.3 0-199.69-15.7-274.39-46.89-74.71-31.21-134.9-80.8-180.61-148.61-45.7-67.8-78.49-155.49-98.3-262.9-19.9-107.5-29.7-237.4-29.7-389.8 0-152.5 9.8-282.41 29.7-389.91 19.81-107.39 52.6-195.09 98.3-262.89 45.71-67.801 105.9-116.3 180.61-145.2 74.7-28.899 166.09-43.399 274.39-43.399 108.21 0 199.6 14.5 274.3 43.399 74.71 28.902 134.9 77.402 180.7 145.2 45.71 67.797 78.5 155.5 98.3 262.89 19.81 107.5 29.7 237.41 29.7 389.91 0 152.4-9.89 282.3-29.7 389.8" />
          <path d="m7426 2240.1v-1177.5c0-79.299-11.39-132.2-34.3-158.9-22.8-26.7-54.1-40-93.7-40-39.69 0-70.89 13.3-93.8 40-22.8 26.699-34.29 79.601-34.29 158.9v1177.5h-425.21v-1070c0-114.41 12.2-209.6 36.6-285.8 24.3-76.301 59.8-137.2 106.3-182.9 46.51-45.801 104.4-77 173.7-93.801 69.41-16.699 148.31-25.098 236.7-25.098 89.91 0 169.2 8.399 237.81 25.098 68.59 16.801 126.09 48 172.59 93.801 46.51 45.703 81.9 106.6 106.3 182.9 24.41 76.199 36.6 171.39 36.6 285.8v1070h-425.3" />
          <path d="m8788.7 2240.1v-1006h-4.59l-274.31 1006h-475.6v-1632.5h397.8v1008.3h4.61l283.49-1008.3h466.41v1632.5h-397.81" />
          <path d="m10077 1158.6c-3.8-67.11-12.2-118.9-25.1-155.41-13-36.588-31.7-60.592-56.03-72.088-24.39-11.402-57.2-17.113-98.3-17.113h-84.6v1019.7h84.6c41.1 0 73.91-5.7 98.3-17.1 24.33-11.5 43.03-35.49 56.03-72.1 12.9-36.5 21.3-88.39 25.1-155.4 3.8-67.1 5.8-155.5 5.8-265.2 0-109.8-2-198.21-5.8-265.3zm433.3 572.8c-7.6 98.3-28.6 185.2-62.9 260.6-34.3 75.5-85.7 135.71-154.3 180.6-68.6 45-164.6 67.5-288.1 67.5h-617.33v-1632.5h617.33c123.5 0 219.5 22.5 288.1 67.5 68.6 44.902 120 105.11 154.3 180.59 34.3 75.41 55.3 162.31 62.9 260.61 7.6 98.4 11.4 200.8 11.4 307.6 0 106.6-3.8 209.19-11.4 307.5" />
          <path d="m11125 955.19v324.59h507.6v333.81h-507.6v278.99h541.9v347.5h-967.2v-1632.5h987.8v347.61h-562.5" />
          <path d="m12488 1603.3c-29-35.8-74-53.7-134.9-53.7h-84.6v384.1h82.3c64 0 110.1-14.5 138.3-43.4 28.2-29 42.3-77.8 42.3-146.4 0-57.9-14.5-104.8-43.4-140.6zm496.1-948.8c-6.1 8.399-12.2 17.102-18.3 26.301-4.5 9.098-8.4 22.098-11.4 38.899-3.1 16.699-5.4 35.398-6.9 55.992-1.5 20.508-2.2 42.308-2.2 65.109v205.8c0 109.7-19.1 195.8-57.2 258.4-38.1 62.4-108.2 98.3-210.3 107.4v4.6c97.5 15.2 168.4 56.4 212.6 123.5 44.2 67 66.3 155.4 66.3 265.2 0 62.5-8 120.41-24 173.71-16 53.39-42 99.49-77.8 138.39-35.8 38.8-82.3 68.9-139.4 90.29-57.2 21.32-126.2 32.01-206.9 32.01h-429.5c-130.3 0-235.9-105.6-235.9-235.9v-1396.6h425.3v653.89h112c25.9 0 47.7-3.39 65.2-10.29 17.5-6.8 32-19 43.4-36.5 11.5-17.6 19.5-41.6 24-72.1 4.6-30.5 6.9-68.61 6.9-114.3v-109.7c0-16.801 0.3-38.504 1.1-65.203s2.3-54.5 4.6-83.399c2.3-28.992 6.1-58 11.4-86.902 5.4-28.996 13.4-54.109 24-75.5h452.7v22.902c-13.7 7.598-23.6 15.602-29.7 24" />
        </g>
      </g>
    </g>
  </svg>
);

export async function GET(
  request: Request,
  {
    params,
    searchParams,
  }: {
    params: { noaa_id: string };
    searchParams?: { time_window_days: string };
  }
) {
  const time_window_days = Number(searchParams?.time_window_days) || 30;
  const data = await getPlatformData({
    noaa_id: params.noaa_id,
    time_window_days: time_window_days,
  });
  const noData = !data || data.length === 0;
  const provider = noData ? "No Data" : data[0].provider;
  const total_data_size = data.reduce((acc, d) => d.dataSize + acc, 0);

  try {
    return new ImageResponse(
      (
        <div
          style={{
            height: "100%",
            width: "100%",
            display: "flex",
            textAlign: "center",
            alignItems: "center",
            flexDirection: "column",
            paddingTop: "20px",
            backgroundImage: 'linear-gradient(to bottom, #FFFFFF, #C5DAF7)',
          }}
        >
          <div
            style={{
              display: "flex",
              flexDirection: "column",
              alignItems: "center",
              justifyContent: "center",
              justifyItems: "center",
              color: "darkgray",
            }}
          >
            Hosted by
            {FSLogo()}
            <div style={{
              display: "flex",
              whiteSpace: "pre-wrap",
            }}>
              learn more at <span
              style={{
                textDecoration: "underline",
                fontStyle: "italic"
              }}>mycsb.farsounder.com</span>
            </div>
          </div>
          <div
            style={{
              fontSize: 60,
              fontStyle: "normal",
              letterSpacing: "-0.025em",
              color: "gray",
              paddingLeft: "100px",
              lineHeight: 1.4,
              whiteSpace: "pre-wrap",
              display: "flex",
              width: "100%",
            }}
          >
            In the last:{" "}
            <span
              style={{
                fontWeight: "bold",
                color: "darkblue",
              }}
            >
              {time_window_days} days
            </span>
          </div>
          <div
            style={{
              fontSize: 60,
              paddingLeft: "100px",
              fontStyle: "normal",
              letterSpacing: "-0.025em",
              color: "gray",
              lineHeight: 1.4,
              whiteSpace: "pre-wrap",
              display: "flex",
              width: "100%",
            }}
          >
            I contributed:{" "}
            <span
              style={{
                fontWeight: "bold",
                color: "darkblue",
              }}
            >
              {Math.round(total_data_size / 1e3)} KB{" "}
            </span>
          </div>
          <div
            style={{
              fontSize: 60,
              fontStyle: "normal",
              letterSpacing: "-0.025em",
              color: "gray",
              lineHeight: 1.0,
              whiteSpace: "pre-wrap",
              display: "flex",
              width: "100%",
              paddingLeft: "100px",
            }}
          >
            to the{" "}
            <span
              style={{
                fontWeight: "bold",
                color: "darkblue",
              }}
            >
              DCDB{" "}
            </span>
            and{" "}
            <span
              style={{
                fontWeight: "bold",
                color: "darkblue",
              }}
            >
              Seabed 2030
            </span>
            .
          </div>
          <div
            style={{
              fontSize: 60,
              fontStyle: "normal",
              letterSpacing: "-0.025em",
              color: "gray",
              lineHeight: 1.4,
              whiteSpace: "pre-wrap",
              display: "flex",
              paddingLeft: "100px",
              width: "100%",
            }}
          >
            Trusted Node:{" "}
            <span
              style={{
                fontWeight: "bold",
                color: "darkblue",
              }}
            >
              {provider}
            </span>
          </div>
          <div
            style={{
              display: "flex",
              width: "100%",
              alignItems: "center",
              justifyContent: "space-between",
              padding: "20px 100px 0px 100px",
            }}
          >
            {Seabed()}
            <img
              src="https://mycsb.farsounder.com/iho-csb-logo.png"
              width="350px"
            />
          </div>
        </div>
      ),
      {
        width: 1200,
        height: 630,
      }
    );
  } catch (e: any) {
    console.log(`${e.message}`);
    return new Response(`Failed to generate the image`, {
      status: 500,
    });
  }
}
